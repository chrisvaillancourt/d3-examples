import{i as n,a as t,b as r,f as e,p as a,c as i,d as u,e as o,g as c}from"./precisionRound-200bdab7.js";function s(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function f(n){var t;return 1===n.length&&(t=n,n=function(n,r){return s(t(n),r)}),{left:function(t,r,e,a){for(null==e&&(e=0),null==a&&(a=t.length);e<a;){var i=e+a>>>1;n(t[i],r)<0?e=i+1:a=i}return e},right:function(t,r,e,a){for(null==e&&(e=0),null==a&&(a=t.length);e<a;){var i=e+a>>>1;n(t[i],r)>0?a=i:e=i+1}return e}}}var l=f(s).right;function h(n,t){var r,e,a,i=n.length,u=-1;if(null==t){for(;++u<i;)if(null!=(r=n[u])&&r>=r)for(e=a=r;++u<i;)null!=(r=n[u])&&(e>r&&(e=r),a<r&&(a=r))}else for(;++u<i;)if(null!=(r=t(n[u],u,n))&&r>=r)for(e=a=r;++u<i;)null!=(r=t(n[u],u,n))&&(e>r&&(e=r),a<r&&(a=r));return[e,a]}var v=Math.sqrt(50),p=Math.sqrt(10),M=Math.sqrt(2);function g(n,t,r){var e=(t-n)/Math.max(0,r),a=Math.floor(Math.log(e)/Math.LN10),i=e/Math.pow(10,a);return a>=0?(i>=v?10:i>=p?5:i>=M?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(i>=v?10:i>=p?5:i>=M?2:1)}function m(n,t,r){var e=Math.abs(t-n)/Math.max(0,r),a=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),i=e/a;return i>=v?a*=10:i>=p?a*=5:i>=M&&(a*=2),t<n?-a:a}function y(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}var d,N;1===(d=y).length&&(N=d,d=function(n,t){return y(N(n),t)});function w(){}function b(n,t){var r=new w;if(n instanceof w)n.each((function(n,t){r.set(t,n)}));else if(Array.isArray(n)){var e,a=-1,i=n.length;if(null==t)for(;++a<i;)r.set(a,n[a]);else for(;++a<i;)r.set(t(e=n[a],a,n),e)}else if(n)for(var u in n)r.set(u,n[u]);return r}function $(){}w.prototype=b.prototype={constructor:w,has:function(n){return"$"+n in this},get:function(n){return this["$"+n]},set:function(n,t){return this["$"+n]=t,this},remove:function(n){var t="$"+n;return t in this&&delete this[t]},clear:function(){for(var n in this)"$"===n[0]&&delete this[n]},keys:function(){var n=[];for(var t in this)"$"===t[0]&&n.push(t.slice(1));return n},values:function(){var n=[];for(var t in this)"$"===t[0]&&n.push(this[t]);return n},entries:function(){var n=[];for(var t in this)"$"===t[0]&&n.push({key:t.slice(1),value:this[t]});return n},size:function(){var n=0;for(var t in this)"$"===t[0]&&++n;return n},empty:function(){for(var n in this)if("$"===n[0])return!1;return!0},each:function(n){for(var t in this)"$"===t[0]&&n(this[t],t.slice(1),this)}};var k=b.prototype;function A(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}$.prototype=function(n,t){var r=new $;if(n instanceof $)n.each((function(n){r.add(n)}));else if(n){var e=-1,a=n.length;if(null==t)for(;++e<a;)r.add(n[e]);else for(;++e<a;)r.add(t(n[e],e,n))}return r}.prototype={constructor:$,has:k.has,add:function(n){return this["$"+(n+="")]=n,this},remove:k.remove,clear:k.clear,values:k.keys,size:k.size,empty:k.empty,each:k.each};!function(n){1===n.length&&(n=function(n){return function(t,r){return A(n(t),r)}}(n))}(A);function x(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n)}return this}var q=Array.prototype,z=q.map,F=q.slice;function L(n){return+n}var R=[0,1];function j(n){return n}function B(n,t){return(t-=n=+n)?function(r){return(r-n)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function C(n){var t,r=n[0],e=n[n.length-1];return r>e&&(t=r,r=e,e=t),function(n){return Math.max(r,Math.min(e,n))}}function D(n,t,r){var e=n[0],a=n[1],i=t[0],u=t[1];return a<e?(e=B(a,e),i=r(u,i)):(e=B(e,a),i=r(i,u)),function(n){return i(e(n))}}function E(n,t,r){var e=Math.min(n.length,t.length)-1,a=new Array(e),i=new Array(e),u=-1;for(n[e]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++u<e;)a[u]=B(n[u],n[u+1]),i[u]=r(t[u],t[u+1]);return function(t){var r=l(n,t,1,e)-1;return i[r](a[r](t))}}function G(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function H(e,a){return function(){var e,a,i,u,o,c,s=R,f=R,l=r,h=j;function v(){return u=Math.min(s.length,f.length)>2?E:D,o=c=null,p}function p(n){return isNaN(n=+n)?i:(o||(o=u(s.map(e),f,l)))(e(h(n)))}return p.invert=function(t){return h(a((c||(c=u(f,s.map(e),n)))(t)))},p.domain=function(n){return arguments.length?(s=z.call(n,L),h===j||(h=C(s)),v()):s.slice()},p.range=function(n){return arguments.length?(f=F.call(n),v()):f.slice()},p.rangeRound=function(n){return f=F.call(n),l=t,v()},p.clamp=function(n){return arguments.length?(h=n?C(s):j,p):h!==j},p.interpolate=function(n){return arguments.length?(l=n,v()):l},p.unknown=function(n){return arguments.length?(i=n,p):i},function(n,t){return e=n,a=t,v()}}()(e,a)}function I(n){var t=n.domain;return n.ticks=function(n){var r=t();return function(n,t,r){var e,a,i,u,o=-1;if(r=+r,(n=+n)===(t=+t)&&r>0)return[n];if((e=t<n)&&(a=n,n=t,t=a),0===(u=g(n,t,r))||!isFinite(u))return[];if(u>0)for(n=Math.ceil(n/u),t=Math.floor(t/u),i=new Array(a=Math.ceil(t-n+1));++o<a;)i[o]=(n+o)*u;else for(n=Math.floor(n*u),t=Math.ceil(t*u),i=new Array(a=Math.ceil(n-t+1));++o<a;)i[o]=(n-o)/u;return e&&i.reverse(),i}(r[0],r[r.length-1],null==n?10:n)},n.tickFormat=function(n,r){var s=t();return function(n,t,r,s){var f,l=m(n,t,r);switch((s=e(null==s?",f":s)).type){case"s":var h=Math.max(Math.abs(n),Math.abs(t));return null!=s.precision||isNaN(f=u(l,h))||(s.precision=f),o(s,h);case"":case"e":case"g":case"p":case"r":null!=s.precision||isNaN(f=i(l,Math.max(Math.abs(n),Math.abs(t))))||(s.precision=f-("e"===s.type));break;case"f":case"%":null!=s.precision||isNaN(f=a(l))||(s.precision=f-2*("%"===s.type))}return c(s)}(s[0],s[s.length-1],null==n?10:n,r)},n.nice=function(r){null==r&&(r=10);var e,a=t(),i=0,u=a.length-1,o=a[i],c=a[u];return c<o&&(e=o,o=c,c=e,e=i,i=u,u=e),(e=g(o,c,r))>0?e=g(o=Math.floor(o/e)*e,c=Math.ceil(c/e)*e,r):e<0&&(e=g(o=Math.ceil(o*e)/e,c=Math.floor(c*e)/e,r)),e>0?(a[i]=Math.floor(o/e)*e,a[u]=Math.ceil(c/e)*e,t(a)):e<0&&(a[i]=Math.ceil(o*e)/e,a[u]=Math.floor(c*e)/e,t(a)),n},n}function J(){var n=H(j,j);return n.copy=function(){return G(n,J())},x.apply(n,arguments),I(n)}export{s as a,j as b,H as c,G as d,h as e,f,x as i,J as l,z as m,m as t};
