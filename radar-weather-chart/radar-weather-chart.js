import{j as t,s as a,g as e}from"../precisionRound-200bdab7.js";import{t as r,a as n}from"../defaultLocale-6888ceff.js";import"../hour-4cecfcf7.js";import{a as i}from"../month-fdf3866f.js";import{e as d,l as o}from"../linear-a2cf98e2.js";import{s}from"../time-c7794c5d.js";var h,c,m;console.time("create radar chart"),h=document.querySelector("#flex"),c=new DocumentFragment,(m=document.createElement("div")).id="wrapper",c.appendChild(m),h.appendChild(c),async function(){console.time("load data");var h=await t("../data/nyc_weather_data.json");console.timeEnd("load data");var c=r("%Y-%m-%d"),m=function({customDimensions:t={}}={}){return{margin:{top:120,right:120,bottom:120,left:120},get width(){return.75*((window.innerWidth>1500?1500:window.innerWidth)-this.margin.left-this.margin.right)},get boundedWidth(){return this.width-this.margin.left-this.margin.right},get height(){return this.width},get boundedHeight(){return this.height-this.margin.top-this.margin.bottom},get radius(){return this.width/2},get boundedRadius(){return this.radius-(this.margin.left+this.margin.right)/2},...t}}(),u=a("#wrapper").append("svg").attr("width",m.width).attr("height",m.height).append("g").style("transform",`translate(${m.margin.left+m.boundedRadius}px, ${m.margin.top+m.boundedRadius}px)`),p=s().domain(d(h,(function(t){return c(t.date)}))).range([0,2*Math.PI]),f=o().domain(d([...h.map((function(t){return t.temperatureMax})),...h.map((function(t){return t.temperatureMin}))])).range([0,m.boundedRadius]).nice(),l=u.append("g");function g(t,a=1){return[Math.cos(t-Math.PI/2)*m.boundedRadius*a,Math.sin(t-Math.PI/2)*m.boundedRadius*a]}i(...p.domain()).forEach((function(t){var a=p(t);const[e,r]=g(a);l.append("line").attr("x2",e).attr("y2",r).attr("class","grid-line");const[i,d]=g(a,1.38);l.append("text").attr("x",i).attr("y",d).attr("class","tick-label").text(n("%b")(t)).style("text-anchor",Math.abs(i)<5?"middle":i>0?"start":"end")}));var b=f.ticks(4);b.map((function(t){return l.append("circle").attr("r",f(t)).attr("class","grid-line")})),b.map((function(t){if(t)return l.append("rect").attr("y",-f(t)-10).attr("width",40).attr("height",20).attr("fill","#ffffff")})),b.map((function(t){if(t)return l.append("text").attr("x",4).attr("y",2-f(t)).attr("class","tick-label-temperature").html(e(".0f")(t)+"Â°F")}))}().then(()=>console.timeEnd("create radar chart")).catch(console.error);
