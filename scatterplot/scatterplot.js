!async function(){let t=await d3.json("../data/nyc_weather_data.json");function a(t){return t.dewPoint}function e(t){return t.humidity}function r(t){return t.cloudCover}const n=function(){const t=d3.min([.9*window.innerWidth,.9*window.innerHeight]),a={width:t,height:t,margin:{top:10,right:10,bottom:50,left:50}};return a.boundedWidth=a.width-a.margin.left-a.margin.right,a.boundedHeight=a.height-a.margin.top-a.margin.bottom,a}(),c=function({wrapperSelector:t,chartDimensions:a}){return d3.select(t).append("svg").attr("width",a.width).attr("height",a.height).append("g").style("transform",`translate(${a.margin.left}px, ${a.margin.top}px)`)}({wrapperSelector:"#wrapper",chartDimensions:n});function i({chartData:t,dataAccessor:a,range:e,isNice:r}){const n=d3.scaleLinear().domain(d3.extent(t,a)).range(e);return r&&n.nice(),n}const o=i({chartData:t,dataAccessor:a,range:[n.boundedHeight,0],isNice:!0}),s=i({chartData:t,dataAccessor:e,range:[0,n.boundedWidth],isNice:!0}),d=i({chartData:t,dataAccessor:r,range:["skyblue","darkslategrey"],isNice:!1});!function({chartBounds:t,chartData:a,chartXScale:e,dataXAccessor:r,chartYScale:n,dataYAccessor:c,fillScale:i,fillAccessor:o}){t.selectAll("circle").data(a).join("circle").attr("cx",t=>e(r(t))).attr("cy",t=>n(c(t))).attr("r",5).attr("fill",t=>i(o(t)))}({chartBounds:c,chartData:t,chartXScale:o,dataXAccessor:a,chartYScale:s,dataYAccessor:e,fillScale:d,fillAccessor:r}),function(){const t=d3.axisBottom().scale(o);c.append("g").call(t).style("transform",`translateY(${n.boundedHeight}px)`).append("text").attr("x",n.boundedWidth/2).attr("y",n.margin.bottom-10).attr("fill","black").style("font-size","1.4em").html("Dew Point (&deg;F)")}(),function(){const t=d3.axisLeft().scale(s).ticks(4);c.append("g").call(t).append("text").attr("x",-n.boundedHeight/2).attr("y",10-n.margin.left).attr("fill","black").style("font-size","1.4em").style("transform","rotate(-90deg").style("text-anchor","middle").text("Relative Humidity")}()}();
