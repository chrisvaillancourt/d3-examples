import{c as n}from"./bisect-ada9d806.js";import{i as r,a as t,b as a,f as e,p as i,c as o,d as u,e as c,g as l}from"./precisionRound-37c4ad23.js";function s(n,r){var t,a,e,i=n.length,o=-1;if(null==r){for(;++o<i;)if(null!=(t=n[o])&&t>=t)for(a=e=t;++o<i;)null!=(t=n[o])&&(a>t&&(a=t),e<t&&(e=t))}else for(;++o<i;)if(null!=(t=r(n[o],o,n))&&t>=t)for(a=e=t;++o<i;)null!=(t=r(n[o],o,n))&&(a>t&&(a=t),e<t&&(e=t));return[a,e]}var f=Math.sqrt(50),h=Math.sqrt(10),M=Math.sqrt(2);function p(n,r,t){var a=(r-n)/Math.max(0,t),e=Math.floor(Math.log(a)/Math.LN10),i=a/Math.pow(10,e);return e>=0?(i>=f?10:i>=h?5:i>=M?2:1)*Math.pow(10,e):-Math.pow(10,-e)/(i>=f?10:i>=h?5:i>=M?2:1)}function g(n,r,t){var a=Math.abs(r-n)/Math.max(0,t),e=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),i=a/e;return i>=f?e*=10:i>=h?e*=5:i>=M&&(e*=2),r<n?-e:e}function m(n,r){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(r).domain(n)}return this}var v=Array.prototype,N=v.map,w=v.slice;function d(n){return+n}var b=[0,1];function y(n){return n}function k(n,r){return(r-=n=+n)?function(t){return(t-n)/r}:(t=isNaN(r)?NaN:.5,function(){return t});var t}function x(n){var r,t=n[0],a=n[n.length-1];return t>a&&(r=t,t=a,a=r),function(n){return Math.max(t,Math.min(a,n))}}function A(n,r,t){var a=n[0],e=n[1],i=r[0],o=r[1];return e<a?(a=k(e,a),i=t(o,i)):(a=k(a,e),i=t(i,o)),function(n){return i(a(n))}}function q(r,t,a){var e=Math.min(r.length,t.length)-1,i=new Array(e),o=new Array(e),u=-1;for(r[e]<r[0]&&(r=r.slice().reverse(),t=t.slice().reverse());++u<e;)i[u]=k(r[u],r[u+1]),o[u]=a(t[u],t[u+1]);return function(t){var a=n(r,t,1,e)-1;return o[a](i[a](t))}}function j(n,r){return r.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function F(n,e){return function(){var n,e,i,o,u,c,l=b,s=b,f=a,h=y;function M(){return o=Math.min(l.length,s.length)>2?q:A,u=c=null,p}function p(r){return isNaN(r=+r)?i:(u||(u=o(l.map(n),s,f)))(n(h(r)))}return p.invert=function(t){return h(e((c||(c=o(s,l.map(n),r)))(t)))},p.domain=function(n){return arguments.length?(l=N.call(n,d),h===y||(h=x(l)),M()):l.slice()},p.range=function(n){return arguments.length?(s=w.call(n),M()):s.slice()},p.rangeRound=function(n){return s=w.call(n),f=t,M()},p.clamp=function(n){return arguments.length?(h=n?x(l):y,p):h!==y},p.interpolate=function(n){return arguments.length?(f=n,M()):f},p.unknown=function(n){return arguments.length?(i=n,p):i},function(r,t){return n=r,e=t,M()}}()(n,e)}function L(n){var r=n.domain;return n.ticks=function(n){var t=r();return function(n,r,t){var a,e,i,o,u=-1;if(t=+t,(n=+n)===(r=+r)&&t>0)return[n];if((a=r<n)&&(e=n,n=r,r=e),0===(o=p(n,r,t))||!isFinite(o))return[];if(o>0)for(n=Math.ceil(n/o),r=Math.floor(r/o),i=new Array(e=Math.ceil(r-n+1));++u<e;)i[u]=(n+u)*o;else for(n=Math.floor(n*o),r=Math.ceil(r*o),i=new Array(e=Math.ceil(n-r+1));++u<e;)i[u]=(n-u)/o;return a&&i.reverse(),i}(t[0],t[t.length-1],null==n?10:n)},n.tickFormat=function(n,t){var a=r();return function(n,r,t,a){var s,f=g(n,r,t);switch((a=e(null==a?",f":a)).type){case"s":var h=Math.max(Math.abs(n),Math.abs(r));return null!=a.precision||isNaN(s=u(f,h))||(a.precision=s),c(a,h);case"":case"e":case"g":case"p":case"r":null!=a.precision||isNaN(s=o(f,Math.max(Math.abs(n),Math.abs(r))))||(a.precision=s-("e"===a.type));break;case"f":case"%":null!=a.precision||isNaN(s=i(f))||(a.precision=s-2*("%"===a.type))}return l(a)}(a[0],a[a.length-1],null==n?10:n,t)},n.nice=function(t){null==t&&(t=10);var a,e=r(),i=0,o=e.length-1,u=e[i],c=e[o];return c<u&&(a=u,u=c,c=a,a=i,i=o,o=a),(a=p(u,c,t))>0?a=p(u=Math.floor(u/a)*a,c=Math.ceil(c/a)*a,t):a<0&&(a=p(u=Math.ceil(u*a)/a,c=Math.floor(c*a)/a,t)),a>0?(e[i]=Math.floor(u/a)*a,e[o]=Math.ceil(c/a)*a,r(e)):a<0&&(e[i]=Math.ceil(u*a)/a,e[o]=Math.floor(c*a)/a,r(e)),n},n}function R(){var n=F(y,y);return n.copy=function(){return j(n,R())},m.apply(n,arguments),L(n)}export{y as a,j as b,F as c,s as e,m as i,R as l,N as m,g as t};
