import{i as n,a as r,b as t,f as a,p as e,c as i,d as o,e as u,g as c}from"./precisionRound-37c4ad23.js";function l(n,r){return n<r?-1:n>r?1:n>=r?0:NaN}function f(n){var r;return 1===n.length&&(r=n,n=function(n,t){return l(r(n),t)}),{left:function(r,t,a,e){for(null==a&&(a=0),null==e&&(e=r.length);a<e;){var i=a+e>>>1;n(r[i],t)<0?a=i+1:e=i}return a},right:function(r,t,a,e){for(null==a&&(a=0),null==e&&(e=r.length);a<e;){var i=a+e>>>1;n(r[i],t)>0?e=i:a=i+1}return a}}}var s=f(l).right;function h(n,r){let t,a;if(void 0===r)for(const r of n)null!=r&&(void 0===t?r>=r&&(t=a=r):(t>r&&(t=r),a<r&&(a=r)));else{let e=-1;for(let i of n)null!=(i=r(i,++e,n))&&(void 0===t?i>=i&&(t=a=i):(t>i&&(t=i),a<i&&(a=i)))}return[t,a]}var M=Math.sqrt(50),p=Math.sqrt(10),v=Math.sqrt(2);function g(n,r,t){var a=(r-n)/Math.max(0,t),e=Math.floor(Math.log(a)/Math.LN10),i=a/Math.pow(10,e);return e>=0?(i>=M?10:i>=p?5:i>=v?2:1)*Math.pow(10,e):-Math.pow(10,-e)/(i>=M?10:i>=p?5:i>=v?2:1)}function m(n,r,t){var a=Math.abs(r-n)/Math.max(0,t),e=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),i=a/e;return i>=M?e*=10:i>=p?e*=5:i>=v&&(e*=2),r<n?-e:e}function N(n,r){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(r).domain(n)}return this}function d(n){return+n}var w=[0,1];function y(n){return n}function b(n,r){return(r-=n=+n)?function(t){return(t-n)/r}:(t=isNaN(r)?NaN:.5,function(){return t});var t}function k(n,r,t){var a=n[0],e=n[1],i=r[0],o=r[1];return e<a?(a=b(e,a),i=t(o,i)):(a=b(a,e),i=t(i,o)),function(n){return i(a(n))}}function A(n,r,t){var a=Math.min(n.length,r.length)-1,e=new Array(a),i=new Array(a),o=-1;for(n[a]<n[0]&&(n=n.slice().reverse(),r=r.slice().reverse());++o<a;)e[o]=b(n[o],n[o+1]),i[o]=t(r[o],r[o+1]);return function(r){var t=s(n,r,1,a)-1;return i[t](e[t](r))}}function x(n,r){return r.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function q(){var a,e,i,o,u,c,l=w,f=w,s=t,h=y;function M(){var n,r,t,a=Math.min(l.length,f.length);return h!==y&&(n=l[0],r=l[a-1],n>r&&(t=n,n=r,r=t),h=function(t){return Math.max(n,Math.min(r,t))}),o=a>2?A:k,u=c=null,p}function p(n){return isNaN(n=+n)?i:(u||(u=o(l.map(a),f,s)))(a(h(n)))}return p.invert=function(r){return h(e((c||(c=o(f,l.map(a),n)))(r)))},p.domain=function(n){return arguments.length?(l=Array.from(n,d),M()):l.slice()},p.range=function(n){return arguments.length?(f=Array.from(n),M()):f.slice()},p.rangeRound=function(n){return f=Array.from(n),s=r,M()},p.clamp=function(n){return arguments.length?(h=!!n||y,M()):h!==y},p.interpolate=function(n){return arguments.length?(s=n,M()):s},p.unknown=function(n){return arguments.length?(i=n,p):i},function(n,r){return a=n,e=r,M()}}function F(){return q()(y,y)}function L(n){var r=n.domain;return n.ticks=function(n){var t=r();return function(n,r,t){var a,e,i,o,u=-1;if(t=+t,(n=+n)===(r=+r)&&t>0)return[n];if((a=r<n)&&(e=n,n=r,r=e),0===(o=g(n,r,t))||!isFinite(o))return[];if(o>0)for(n=Math.ceil(n/o),r=Math.floor(r/o),i=new Array(e=Math.ceil(r-n+1));++u<e;)i[u]=(n+u)*o;else for(n=Math.floor(n*o),r=Math.ceil(r*o),i=new Array(e=Math.ceil(n-r+1));++u<e;)i[u]=(n-u)/o;return a&&i.reverse(),i}(t[0],t[t.length-1],null==n?10:n)},n.tickFormat=function(n,t){var l=r();return function(n,r,t,l){var f,s=m(n,r,t);switch((l=a(null==l?",f":l)).type){case"s":var h=Math.max(Math.abs(n),Math.abs(r));return null!=l.precision||isNaN(f=o(s,h))||(l.precision=f),u(l,h);case"":case"e":case"g":case"p":case"r":null!=l.precision||isNaN(f=i(s,Math.max(Math.abs(n),Math.abs(r))))||(l.precision=f-("e"===l.type));break;case"f":case"%":null!=l.precision||isNaN(f=e(s))||(l.precision=f-2*("%"===l.type))}return c(l)}(l[0],l[l.length-1],null==n?10:n,t)},n.nice=function(t){null==t&&(t=10);var a,e=r(),i=0,o=e.length-1,u=e[i],c=e[o];return c<u&&(a=u,u=c,c=a,a=i,i=o,o=a),(a=g(u,c,t))>0?a=g(u=Math.floor(u/a)*a,c=Math.ceil(c/a)*a,t):a<0&&(a=g(u=Math.ceil(u*a)/a,c=Math.floor(c*a)/a,t)),a>0?(e[i]=Math.floor(u/a)*a,e[o]=Math.ceil(c/a)*a,r(e)):a<0&&(e[i]=Math.ceil(u*a)/a,e[o]=Math.floor(c*a)/a,r(e)),n},n}function R(){var n=F();return n.copy=function(){return x(n,R())},N.apply(n,arguments),L(n)}export{x as a,f as b,F as c,h as e,N as i,R as l,m as t};
