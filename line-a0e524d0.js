var t=Math.PI,i=2*t,n=i-1e-6;function h(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function s(){return new h}function e(t){return function(){return t}}function o(t){this._context=t}function _(t){return new o(t)}function r(t){return t[0]}function u(t){return t[1]}function c(){var t=r,i=u,n=e(!0),h=null,o=_,c=null;function a(e){var _,r,u,a=e.length,l=!1;for(null==h&&(c=o(u=s())),_=0;_<=a;++_)!(_<a&&n(r=e[_],_,e))===l&&((l=!l)?c.lineStart():c.lineEnd()),l&&c.point(+t(r,_,e),+i(r,_,e));if(u)return c=null,u+""||null}return a.x=function(i){return arguments.length?(t="function"==typeof i?i:e(+i),a):t},a.y=function(t){return arguments.length?(i="function"==typeof t?t:e(+t),a):i},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:e(!!t),a):n},a.curve=function(t){return arguments.length?(o=t,null!=h&&(c=o(h)),a):o},a.context=function(t){return arguments.length?(null==t?h=c=null:c=o(h=t),a):h},a}h.prototype=s.prototype={constructor:h,moveTo:function(t,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+i)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,i){this._+="L"+(this._x1=+t)+","+(this._y1=+i)},quadraticCurveTo:function(t,i,n,h){this._+="Q"+ +t+","+ +i+","+(this._x1=+n)+","+(this._y1=+h)},bezierCurveTo:function(t,i,n,h,s,e){this._+="C"+ +t+","+ +i+","+ +n+","+ +h+","+(this._x1=+s)+","+(this._y1=+e)},arcTo:function(i,n,h,s,e){i=+i,n=+n,h=+h,s=+s,e=+e;var o=this._x1,_=this._y1,r=h-i,u=s-n,c=o-i,a=_-n,l=c*c+a*a;if(e<0)throw new Error("negative radius: "+e);if(null===this._x1)this._+="M"+(this._x1=i)+","+(this._y1=n);else if(l>1e-6)if(Math.abs(a*r-u*c)>1e-6&&e){var f=h-o,x=s-_,y=r*r+u*u,p=f*f+x*x,M=Math.sqrt(y),v=Math.sqrt(l),d=e*Math.tan((t-Math.acos((y+l-p)/(2*M*v)))/2),g=d/v,T=d/M;Math.abs(g-1)>1e-6&&(this._+="L"+(i+g*c)+","+(n+g*a)),this._+="A"+e+","+e+",0,0,"+ +(a*f>c*x)+","+(this._x1=i+T*r)+","+(this._y1=n+T*u)}else this._+="L"+(this._x1=i)+","+(this._y1=n);else;},arc:function(h,s,e,o,_,r){h=+h,s=+s,r=!!r;var u=(e=+e)*Math.cos(o),c=e*Math.sin(o),a=h+u,l=s+c,f=1^r,x=r?o-_:_-o;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+a+","+l:(Math.abs(this._x1-a)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+a+","+l),e&&(x<0&&(x=x%i+i),x>n?this._+="A"+e+","+e+",0,1,"+f+","+(h-u)+","+(s-c)+"A"+e+","+e+",0,1,"+f+","+(this._x1=a)+","+(this._y1=l):x>1e-6&&(this._+="A"+e+","+e+",0,"+ +(x>=t)+","+f+","+(this._x1=h+e*Math.cos(_))+","+(this._y1=s+e*Math.sin(_))))},rect:function(t,i,n,h){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+i)+"h"+ +n+"v"+ +h+"h"+-n+"Z"},toString:function(){return this._}},o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;default:this._context.lineTo(t,i)}}};export{_ as a,e as c,c as l,s as p,r as x,u as y};
