import{i as n,a as t,b as r,f as a,p as e,c as i,d as o,e as u,g as c}from"./precisionRound-200bdab7.js";function l(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function s(n){var t;return 1===n.length&&(t=n,n=function(n,r){return l(t(n),r)}),{left:function(t,r,a,e){for(null==a&&(a=0),null==e&&(e=t.length);a<e;){var i=a+e>>>1;n(t[i],r)<0?a=i+1:e=i}return a},right:function(t,r,a,e){for(null==a&&(a=0),null==e&&(e=t.length);a<e;){var i=a+e>>>1;n(t[i],r)>0?e=i:a=i+1}return a}}}var f=s(l).right;function h(n,t){let r,a;if(void 0===t)for(const t of n)null!=t&&(void 0===r?t>=t&&(r=a=t):(r>t&&(r=t),a<t&&(a=t)));else{let e=-1;for(let i of n)null!=(i=t(i,++e,n))&&(void 0===r?i>=i&&(r=a=i):(r>i&&(r=i),a<i&&(a=i)))}return[r,a]}var M=Math.sqrt(50),p=Math.sqrt(10),g=Math.sqrt(2);function v(n,t,r){var a=(t-n)/Math.max(0,r),e=Math.floor(Math.log(a)/Math.LN10),i=a/Math.pow(10,e);return e>=0?(i>=M?10:i>=p?5:i>=g?2:1)*Math.pow(10,e):-Math.pow(10,-e)/(i>=M?10:i>=p?5:i>=g?2:1)}function m(n,t,r){var a=Math.abs(t-n)/Math.max(0,r),e=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),i=a/e;return i>=M?e*=10:i>=p?e*=5:i>=g&&(e*=2),t<n?-e:e}function d(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n)}return this}function N(n,t){switch(arguments.length){case 0:break;case 1:"function"==typeof n?this.interpolator(n):this.range(n);break;default:this.domain(n),"function"==typeof t?this.interpolator(t):this.range(t)}return this}function b(n){return+n}var w=[0,1];function y(n){return n}function k(n,t){return(t-=n=+n)?function(r){return(r-n)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function A(n,t,r){var a=n[0],e=n[1],i=t[0],o=t[1];return e<a?(a=k(e,a),i=r(o,i)):(a=k(a,e),i=r(i,o)),function(n){return i(a(n))}}function x(n,t,r){var a=Math.min(n.length,t.length)-1,e=new Array(a),i=new Array(a),o=-1;for(n[a]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<a;)e[o]=k(n[o],n[o+1]),i[o]=r(t[o],t[o+1]);return function(t){var r=f(n,t,1,a)-1;return i[r](e[r](t))}}function q(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function j(){var a,e,i,o,u,c,l=w,s=w,f=r,h=y;function M(){var n,t,r,a=Math.min(l.length,s.length);return h!==y&&(n=l[0],t=l[a-1],n>t&&(r=n,n=t,t=r),h=function(r){return Math.max(n,Math.min(t,r))}),o=a>2?x:A,u=c=null,p}function p(n){return isNaN(n=+n)?i:(u||(u=o(l.map(a),s,f)))(a(h(n)))}return p.invert=function(t){return h(e((c||(c=o(s,l.map(a),n)))(t)))},p.domain=function(n){return arguments.length?(l=Array.from(n,b),M()):l.slice()},p.range=function(n){return arguments.length?(s=Array.from(n),M()):s.slice()},p.rangeRound=function(n){return s=Array.from(n),f=t,M()},p.clamp=function(n){return arguments.length?(h=!!n||y,M()):h!==y},p.interpolate=function(n){return arguments.length?(f=n,M()):f},p.unknown=function(n){return arguments.length?(i=n,p):i},function(n,t){return a=n,e=t,M()}}function F(){return j()(y,y)}function L(n){var t=n.domain;return n.ticks=function(n){var r=t();return function(n,t,r){var a,e,i,o,u=-1;if(r=+r,(n=+n)===(t=+t)&&r>0)return[n];if((a=t<n)&&(e=n,n=t,t=e),0===(o=v(n,t,r))||!isFinite(o))return[];if(o>0)for(n=Math.ceil(n/o),t=Math.floor(t/o),i=new Array(e=Math.ceil(t-n+1));++u<e;)i[u]=(n+u)*o;else for(n=Math.floor(n*o),t=Math.ceil(t*o),i=new Array(e=Math.ceil(n-t+1));++u<e;)i[u]=(n-u)/o;return a&&i.reverse(),i}(r[0],r[r.length-1],null==n?10:n)},n.tickFormat=function(n,r){var l=t();return function(n,t,r,l){var s,f=m(n,t,r);switch((l=a(null==l?",f":l)).type){case"s":var h=Math.max(Math.abs(n),Math.abs(t));return null!=l.precision||isNaN(s=o(f,h))||(l.precision=s),u(l,h);case"":case"e":case"g":case"p":case"r":null!=l.precision||isNaN(s=i(f,Math.max(Math.abs(n),Math.abs(t))))||(l.precision=s-("e"===l.type));break;case"f":case"%":null!=l.precision||isNaN(s=e(f))||(l.precision=s-2*("%"===l.type))}return c(l)}(l[0],l[l.length-1],null==n?10:n,r)},n.nice=function(r){null==r&&(r=10);var a,e=t(),i=0,o=e.length-1,u=e[i],c=e[o];return c<u&&(a=u,u=c,c=a,a=i,i=o,o=a),(a=v(u,c,r))>0?a=v(u=Math.floor(u/a)*a,c=Math.ceil(c/a)*a,r):a<0&&(a=v(u=Math.ceil(u*a)/a,c=Math.floor(c*a)/a,r)),a>0?(e[i]=Math.floor(u/a)*a,e[o]=Math.ceil(c/a)*a,t(e)):a<0&&(e[i]=Math.ceil(u*a)/a,e[o]=Math.floor(c*a)/a,t(e)),n},n}function R(){var n=F();return n.copy=function(){return q(n,R())},d.apply(n,arguments),L(n)}export{q as a,f as b,F as c,s as d,h as e,l as f,L as g,y as h,d as i,N as j,R as l,m as t};
